<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ú–∏–Ω–∏-—Ç–µ—Å—Ç: –≠–∫—Å–ø–µ—Ä—Ç, –í–µ—â–∞—Ç–µ–ª—å –∏–ª–∏ –ü—Ä–æ–¥–∞–≤–µ—Ü?</title>
  <style>
    :root{
      --bg:#f6f6f4;
      --card:#ffffff;
      --text:#161616;
      --muted:#6b6b6b;
      --line:#e7e7e3;

      /* –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π ‚Äú–Ω–µ-–µ–¥–∫–∏–π‚Äù –∞–∫—Ü–µ–Ω—Ç –≤–º–µ—Å—Ç–æ —á—ë—Ä–Ω–æ–≥–æ */
      --accent:#2a2f36;         /* —Ç—ë–º–Ω—ã–π –≥—Ä–∞—Ñ–∏—Ç */
      --accent2:#3b4652;        /* —á—É—Ç—å —Å–≤–µ—Ç–ª–µ–µ */
      --accentSoft:#eef1f4;

      --shadow: 0 12px 30px rgba(0,0,0,.06);
      --radius: 18px;
      --radius2: 14px;
      --max: 860px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
      background: radial-gradient(1200px 600px at 20% 0%, #ffffff 0%, var(--bg) 55%, #f3f3ef 100%);
      color:var(--text);
      line-height:1.45;
    }
    .wrap{max-width:var(--max); margin:0 auto; padding:28px 18px 56px}
    header{margin-bottom:16px}
    .kicker{
      display:inline-flex; gap:8px; align-items:center;
      font-size:13px; color:var(--muted);
      padding:6px 10px; border:1px solid var(--line); border-radius:999px;
      background:rgba(255,255,255,.65);
      width:fit-content;
    }
    h1{
      font-size: clamp(22px, 2.8vw, 34px);
      margin:10px 0 0;
      letter-spacing:-0.02em;
    }
    .sub{
      margin:10px 0 0;
      color:var(--muted);
      max-width:70ch;
    }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
    }

    /* –ë–ª–æ–∫–∏ */
    .block{
      margin-top:14px;
      border-top:1px solid var(--line);
      padding-top:14px;
    }
    .block:first-child{border-top:0; padding-top:0}
    .block-title{
      margin:0 0 10px;
      font-size:14px;
      color:var(--muted);
      letter-spacing:.02em;
      text-transform:uppercase;
    }

    /* –í–æ–ø—Ä–æ—Å—ã */
    .q{
      border:1px solid var(--line);
      border-radius:var(--radius2);
      padding:14px;
      background:#fcfcfb;
      margin-top:12px;
    }
    .q:first-child{margin-top:0}
    .q-title{
      font-weight:650;
      margin:0 0 10px;
    }
    .opts{display:grid; gap:10px}
    .opt{
      display:flex; gap:10px; align-items:flex-start;
      padding:12px 12px;
      border:1px solid var(--line);
      border-radius:var(--radius2);
      background:#fff;
      cursor:pointer;
      transition:.12s ease;
      user-select:none;
    }
    .opt:hover{transform: translateY(-1px); box-shadow: 0 8px 18px rgba(0,0,0,.05)}
    .opt input{margin-top:2px}
    .opt.selected{
      border-color: color-mix(in srgb, var(--accent) 24%, var(--line));
      box-shadow: 0 10px 20px rgba(0,0,0,.06);
    }

    .actions{
      display:flex; flex-wrap:wrap; gap:10px; align-items:center;
      margin-top:16px;
      border-top:1px solid var(--line);
      padding-top:14px;
    }
    .btn{
      appearance:none; border:0; cursor:pointer;
      border-radius: 999px;
      padding:12px 16px;
      font-weight:650;
      background:var(--accent);
      color:#fff;
      transition:.12s ease;
    }
    .btn:hover{transform:translateY(-1px); background:var(--accent2)}
    .btn:disabled{opacity:.5; cursor:not-allowed; transform:none; background:var(--accent)}

    .progress{
      margin-left:auto;
      display:flex; gap:10px; align-items:center;
      color:var(--muted);
      font-size:13px;
    }
    .bar{
      width:180px; height:8px; border-radius:999px;
      background:#efefe9; overflow:hidden; border:1px solid var(--line);
    }
    .bar > div{height:100%; width:0%; background:var(--accent)}

    footer{
      margin-top:14px;
      color:var(--muted);
      font-size:13px;
      text-align:center;
    }

    /* Modal */
    .backdrop{
      position:fixed; inset:0;
      background:rgba(10,10,10,.45);
      display:none;
      align-items:center; justify-content:center;
      padding:18px;
      z-index:50;
    }
    .backdrop.open{display:flex}
    .modal{
      width:min(760px, 100%);
      background:var(--card);
      border:1px solid var(--line);
      border-radius:22px;
      box-shadow: 0 25px 70px rgba(0,0,0,.25);
      overflow:hidden;
    }
    .modal-head{
      padding:16px 18px;
      display:flex; align-items:center; justify-content:space-between;
      background: linear-gradient(180deg, #ffffff, #fbfbf8);
      border-bottom:1px solid var(--line);
    }
    .role-chip{
      display:inline-flex; gap:10px; align-items:center;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      font-weight:750;
      letter-spacing:-0.01em;
    }
    .x{
      border:1px solid var(--line);
      background:#fff;
      width:38px; height:38px;
      border-radius:999px;
      cursor:pointer;
      font-size:18px;
      line-height:1;
    }
    .modal-body{padding:18px}
    .role-block{
      border:1px solid var(--line);
      border-radius:16px;
      padding:14px;
      background:#fcfcfb;
    }
    .role-block ul{margin:10px 0 0; padding-left:18px; color:var(--muted)}

    .modal-actions{
      padding:16px 18px;
      border-top:1px solid var(--line);
      background:#fff;
    }

    /* –û–î–ù–ê –±–æ–ª—å—à–∞—è –∫–Ω–æ–ø–∫–∞ –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö –±–ª–æ–∫–æ–≤ */
    .big-cta{
      display:block;
      width:100%;
      text-decoration:none;
      border-radius:18px;
      padding:14px 14px;
      border:1px solid color-mix(in srgb, var(--accent) 22%, var(--line));
      background: linear-gradient(180deg, #ffffff, var(--accentSoft));
      color:var(--text);
      transition:.12s ease;
    }
    .big-cta:hover{
      transform: translateY(-1px);
      box-shadow: 0 14px 28px rgba(0,0,0,.10);
      border-color: color-mix(in srgb, var(--accent) 35%, var(--line));
    }
    .big-cta strong{
      display:block;
      font-weight:800;
      letter-spacing:-0.01em;
      margin-bottom:4px;
    }
    .big-cta small{
      display:block;
      color:var(--muted);
      line-height:1.35;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="kicker">üß† –ú–∏–Ω–∏-—Ç–µ—Å—Ç</div>
      <h1>–ö–∞–∫–∞—è —É —Ç–µ–±—è —Ä–æ–ª—å –≤ –±–ª–æ–≥–µ: –≠–∫—Å–ø–µ—Ä—Ç, –í–µ—â–∞—Ç–µ–ª—å –∏–ª–∏ –ü—Ä–æ–¥–∞–≤–µ—Ü?</h1>
      <p class="sub">
        –î–ª—è –æ–Ω–ª–∞–π–Ω-—ç–∫—Å–ø–µ—Ä—Ç–æ–≤ (–ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤, –∫–æ—É—á–µ–π, –Ω—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥–æ–≤ –∏ –¥—Ä.), —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –±–ª–æ–≥ –∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏,
        –Ω–æ <b>–Ω–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂</b> –∏–ª–∏ –∑–∞–ø—É—Å–∫–æ–≤ ‚Äî –∏ –µ—Å—Ç—å –æ—â—É—â–µ–Ω–∏–µ ¬´—è –º–Ω–æ–≥–æ –¥–µ–ª–∞—é, –Ω–æ —ç—Ç–æ –Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –¥–µ–Ω—å–≥–∏¬ª.
      </p>
    </header>

    <section class="card" id="quizCard">
      <form id="quiz">
        <!-- –ë–õ–û–ö 1 -->
        <div class="block">
          <p class="block-title">–ë–ª–æ–∫ 1</p>

          <div class="q" data-q="1">
            <p class="q-title">–ö–æ–≥–¥–∞ —Ç—ã –≤—ã—Ö–æ–¥–∏—à—å –≤ —Å—Ç–æ—Ä–∏—Å, —Ç—ã —á–∞—â–µ –≤—Å–µ–≥–æ:</p>
            <div class="opts">
              <label class="opt"><input type="radio" name="q1" value="A" />
                –¥–µ–ª–∏—à—å—Å—è –∑–Ω–∞–Ω–∏—è–º–∏, –æ–±—ä—è—Å–Ω—è–µ—à—å, —É—á–∏—à—å
              </label>
              <label class="opt"><input type="radio" name="q1" value="B" />
                —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—à—å –æ –∂–∏–∑–Ω–∏, –º—ã—Å–ª—è—Ö, –Ω–∞–±–ª—é–¥–µ–Ω–∏—è—Ö
              </label>
              <label class="opt"><input type="radio" name="q1" value="C" />
                –≤–µ–¥—ë—à—å –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –¥–µ–π—Å—Ç–≤–∏—é –∏–ª–∏ –ø—Ä–æ–¥—É–∫—Ç—É
              </label>
            </div>
          </div>

          <div class="q" data-q="2">
            <p class="q-title">–ü–æ–¥–ø–∏—Å—á–∏–∫–∏ —á–∞—â–µ –ø–∏—à—É—Ç —Ç–µ–±–µ:</p>
            <div class="opts">
              <label class="opt"><input type="radio" name="q2" value="A" />
                ¬´–°–ø–∞—Å–∏–±–æ, –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ¬ª
              </label>
              <label class="opt"><input type="radio" name="q2" value="B" />
                ¬´–ö–∞–∫ —Ç—ã —ç—Ç–æ –ø—Ä–æ–∂–∏–≤–∞–µ—à—å¬ª, ¬´–Ø —Å —Ç–æ–±–æ–π —Å–æ–≥–ª–∞—Å–Ω–∞¬ª
              </label>
              <label class="opt"><input type="radio" name="q2" value="C" />
                ¬´–ö–∞–∫ –∫ —Ç–µ–±–µ –ø–æ–ø–∞—Å—Ç—å?¬ª, ¬´–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç?¬ª
              </label>
            </div>
          </div>

          <div class="q" data-q="3">
            <p class="q-title">–ö–æ–≥–¥–∞ –¥—É–º–∞–µ—à—å –æ –ø—Ä–æ–¥–∞–∂–∞—Ö, —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å:</p>
            <div class="opts">
              <label class="opt"><input type="radio" name="q3" value="A" />
                ¬´–Ø —ç–∫—Å–ø–µ—Ä—Ç, –Ω–æ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –Ω–µ –º–æ—è —Å–∏–ª—å–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞¬ª
              </label>
              <label class="opt"><input type="radio" name="q3" value="B" />
                ¬´–ú–Ω–µ –Ω–µ–ª–æ–≤–∫–æ –ø—Ä–æ–¥–∞–≤–∞—Ç—å, –≤–¥—Ä—É–≥ –æ—Ç–ø–∏—à—É—Ç—Å—è¬ª
              </label>
              <label class="opt"><input type="radio" name="q3" value="C" />
                ¬´–ü—Ä–æ–¥–∞–∂–∏ ‚Äî —ç—Ç–æ –ª–æ–≥–∏—á–Ω—ã–π —ç—Ç–∞–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞¬ª
              </label>
            </div>
          </div>
        </div>

        <!-- –ë–õ–û–ö 2 -->
        <div class="block">
          <p class="block-title">–ë–ª–æ–∫ 2</p>

          <div class="q" data-q="4">
            <p class="q-title">–í —Ç–≤–æ—ë–º –±–ª–æ–≥–µ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:</p>
            <div class="opts">
              <label class="opt"><input type="radio" name="q4" value="A" />
                –æ–±—É—á–∞—é—â–µ–≥–æ
              </label>
              <label class="opt"><input type="radio" name="q4" value="B" />
                –ª–∏—á–Ω–æ–≥–æ –∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–æ–≥–æ
              </label>
              <label class="opt"><input type="radio" name="q4" value="C" />
                —Å–º—ã—Å–ª–æ–≤–æ–≥–æ + –≤–µ–¥—É—â–µ–≥–æ –∫ —Ä–µ—à–µ–Ω–∏—é
              </label>
            </div>
          </div>

          <div class="q" data-q="5">
            <p class="q-title">–ö–æ–≥–¥–∞ —Ç—ã –∑–∞–ø—É—Å–∫–∞–µ—à—å –ø—Ä–æ–¥—É–∫—Ç (–∏–ª–∏ –¥—É–º–∞–µ—à—å –æ –∑–∞–ø—É—Å–∫–µ):</p>
            <div class="opts">
              <label class="opt"><input type="radio" name="q5" value="A" />
                –Ω–µ –ø–æ–Ω–∏–º–∞–µ—à—å, –∫–∞–∫ —ç—Ç–æ —Å–∏—Å—Ç–µ–º–Ω–æ —Å–¥–µ–ª–∞—Ç—å
              </label>
              <label class="opt"><input type="radio" name="q5" value="B" />
                –±–æ–∏—à—å—Å—è –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–∞–≤—è–∑—á–∏–≤–æ–π
              </label>
              <label class="opt"><input type="radio" name="q5" value="C" />
                –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ –∏ –∑–∞—á–µ–º —Ç—ã –¥–µ–ª–∞–µ—à—å
              </label>
            </div>
          </div>

          <div class="q" data-q="6">
            <p class="q-title">–£ —Ç–µ–±—è –µ—Å—Ç—å —á—ë—Ç–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –ß–¢–û —Ç—ã –ø—Ä–æ–¥–∞—ë—à—å:</p>
            <div class="opts">
              <label class="opt"><input type="radio" name="q6" value="A" />
                —Å–∫–æ—Ä–µ–µ –Ω–µ—Ç, –≤—Å—ë –≤ –≥–æ–ª–æ–≤–µ
              </label>
              <label class="opt"><input type="radio" name="q6" value="B" />
                –µ—Å—Ç—å –∏–¥–µ—è, –Ω–æ –Ω–µ—Ç —Ñ–æ—Ä–º—ã
              </label>
              <label class="opt"><input type="radio" name="q6" value="C" />
                –¥–∞, –µ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
              </label>
            </div>
          </div>
        </div>

        <!-- –ë–õ–û–ö 3 -->
        <div class="block">
          <p class="block-title">–ë–ª–æ–∫ 3</p>

          <div class="q" data-q="7">
            <p class="q-title">–¢—ã —á–∞—â–µ –≤—Å–µ–≥–æ –¥—É–º–∞–µ—à—å:</p>
            <div class="opts">
              <label class="opt"><input type="radio" name="q7" value="A" />
                ¬´–ú–Ω–µ –Ω—É–∂–Ω–æ –µ—â—ë —É—á–∏—Ç—å—Å—è¬ª
              </label>
              <label class="opt"><input type="radio" name="q7" value="B" />
                ¬´–ú–Ω–µ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–æ–≤–µ—Ä–∏—è –∏ —Å–º–µ–ª–æ—Å—Ç–∏¬ª
              </label>
              <label class="opt"><input type="radio" name="q7" value="C" />
                ¬´–ú–Ω–µ –Ω—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è¬ª
              </label>
            </div>
          </div>

          <div class="q" data-q="8">
            <p class="q-title">–¢–≤–æ–π –±–ª–æ–≥ —Å–µ–π—á–∞—Å ‚Äî —ç—Ç–æ:</p>
            <div class="opts">
              <label class="opt"><input type="radio" name="q8" value="A" />
                –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–æ–ª—å–∑—ã
              </label>
              <label class="opt"><input type="radio" name="q8" value="B" />
                –º–µ—Å—Ç–æ –æ–±—â–µ–Ω–∏—è
              </label>
              <label class="opt"><input type="radio" name="q8" value="C" />
                –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–æ–¥–∞–∂
              </label>
            </div>
          </div>

          <div class="q" data-q="9">
            <p class="q-title">–î–µ–Ω—å–≥–∏ –≤ –±–ª–æ–≥–µ –¥–ª—è —Ç–µ–±—è —Å–µ–π—á–∞—Å ‚Äî —ç—Ç–æ:</p>
            <div class="opts">
              <label class="opt"><input type="radio" name="q9" value="A" />
                —Ä–µ–¥–∫–∏–µ –≤—Å–ø–ª–µ—Å–∫–∏
              </label>
              <label class="opt"><input type="radio" name="q9" value="B" />
                –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
              </label>
              <label class="opt"><input type="radio" name="q9" value="C" />
                —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π –ø—Ä–æ—Ü–µ—Å—Å
              </label>
            </div>
          </div>
        </div>

        <div class="actions">
          <button class="btn" id="calcBtn" type="button" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>

          <div class="progress" aria-live="polite">
            <span id="answeredText">0/9</span>
            <div class="bar" aria-hidden="true"><div id="barFill"></div></div>
          </div>
        </div>
      </form>
    </section>

    <footer>–ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ Tilda / –ª—é–±–æ–π —Ö–æ—Å—Ç–∏–Ω–≥ –∫–∞–∫ –æ–¥–∏–Ω HTML-—Ñ–∞–π–ª.</footer>
  </div>

  <!-- Modal -->
  <div class="backdrop" id="backdrop" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal" id="modal">
      <div class="modal-head" id="modalHead">
        <div class="role-chip" id="roleChip">
          <span id="modalTitle">–¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</span>
        </div>
        <button class="x" id="closeModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>

      <div class="modal-body" id="modalBody"></div>

      <div class="modal-actions">
        <a class="big-cta" href="https://t.me/Boris_Khodakov" target="_blank" rel="noopener">
          <strong>–•–æ—á–µ—à—å –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å?</strong>
          <small>–ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç ‚Äî –Ω–∞–ø–∏—à–∏ –º–Ω–µ –≤ Telegram @Boris_Khodakov. –Ø –ø—Ä–æ–¥—é—Å–µ—Ä –∑–∞–ø—É—Å–∫–æ–≤: —Ä–∞–∑–±–µ—Ä—ë–º —Ç–≤–æ—é —Å–∏—Ç—É–∞—Ü–∏—é –∏ –≤—ã—Å—Ç—Ä–æ–∏–º –ø–ª–∞–Ω, –∫–∞–∫ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –±–ª–æ–≥ –≤ —Å–∏—Å—Ç–µ–º—É –ø—Ä–æ–¥–∞–∂ ‚Äî –±–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è –∏ —Ö–∞–æ—Å–∞.</small>
        </a>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const form = document.getElementById('quiz');
      const calcBtn = document.getElementById('calcBtn');

      const answeredText = document.getElementById('answeredText');
      const barFill = document.getElementById('barFill');

      const backdrop = document.getElementById('backdrop');
      const closeModalBtn = document.getElementById('closeModal');
      const modalBody = document.getElementById('modalBody');
      const modalTitle = document.getElementById('modalTitle');

      const TOTAL = 9;

      const ROLE = {
        A: {
          title: '–¢–´ –≠–ö–°–ü–ï–†–¢',
          bullets: [
            '—Ç—ã –º–Ω–æ–≥–æ –¥–∞—ë—à—å —Ü–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–æ –Ω–µ —É–ø–∞–∫–æ–≤—ã–≤–∞–µ—à—å –µ—ë –≤ –ø—Ä–æ–¥—É–∫—Ç',
            '–∞—É–¥–∏—Ç–æ—Ä–∏—è –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª—å–∑—É, –Ω–æ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç ‚Äú—á—Ç–æ –∫—É–ø–∏—Ç—å –∏ –∫–∞–∫‚Äù',
            '–ø—Ä–æ–¥–∞–∂–∏ —Å–ª—É—á–∞—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ, –±–µ–∑ —Å–∏—Å—Ç–µ–º—ã'
          ],
          focus: '–¢–≤–æ—è –∫–ª—é—á–µ–≤–∞—è —Ç–æ—á–∫–∞ —Ä–æ—Å—Ç–∞ ‚Äî —É–ø–∞–∫–æ–≤–∫–∞ –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞.'
        },
        B: {
          title: '–¢–´ –í–ï–©–ê–¢–ï–õ–¨',
          bullets: [
            '—Ç—ã —Å–æ–∑–¥–∞—ë—à—å –¥–æ–≤–µ—Ä–∏–µ –∏ –±–ª–∏–∑–æ—Å—Ç—å, –Ω–æ –±–ª–æ–≥ –Ω–µ –º–æ–Ω–µ—Ç–∏–∑–∏—Ä—É–µ—Ç—Å—è',
            '–ø—Ä–æ–¥–∞–∂–∏ –∫–∞–∂—É—Ç—Å—è –Ω–µ–ª–æ–≤–∫–∏–º–∏ –∏–ª–∏ ‚Äú—Å–ª–∏—à–∫–æ–º –Ω–∞–≤—è–∑—á–∏–≤—ã–º–∏‚Äù',
            '–Ω–µ—Ç —á—ë—Ç–∫–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤–µ–¥—ë—Ç –∫ –æ–ø–ª–∞—Ç–µ'
          ],
          focus: '–¢–≤–æ—è —Ç–æ—á–∫–∞ —Ä–æ—Å—Ç–∞ ‚Äî —ç–∫–æ–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏ –±–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è.'
        },
        C: {
          title: '–¢–´ –ü–†–û–î–ê–í–ï–¶',
          bullets: [
            '—Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å —Ü–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂, –Ω–æ –º–æ–∂–µ—à—å –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å —Å–µ–±—è',
            '—É–ø–∏—Ä–∞–µ—à—å—Å—è –≤ –ø–æ—Ç–æ–ª–æ–∫ –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Å–∏—Å—Ç–µ–º—ã',
            '–Ω—É–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∑–∞–ø—É—Å–∫–∏ –∏ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞'
          ],
          focus: '–¢–≤–æ—è —Ç–æ—á–∫–∞ —Ä–æ—Å—Ç–∞ ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ –∏ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ.'
        }
      };

      // highlight selected option
      form.addEventListener('change', (e) => {
        if (e.target && e.target.matches('input[type="radio"]')) {
          const q = e.target.name;
          form.querySelectorAll(`input[name="${q}"]`).forEach(inp => {
            inp.closest('.opt').classList.toggle('selected', inp.checked);
          });
          updateProgress();
        }
      });

      function updateProgress(){
        const answered = form.querySelectorAll('input[type="radio"]:checked').length;
        answeredText.textContent = `${answered}/${TOTAL}`;
        const pct = Math.round((answered / TOTAL) * 100);
        barFill.style.width = pct + '%';
        calcBtn.disabled = answered !== TOTAL;
      }

      function tally(){
        const counts = {A:0, B:0, C:0};
        for(let i=1;i<=TOTAL;i++){
          const v = form.querySelector(`input[name="q${i}"]:checked`)?.value;
          if (v) counts[v]++;
        }
        return counts;
      }

      function pickRole(counts){
        // –µ—Å–ª–∏ –Ω–∏—á—å—è ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç C > A > B (–º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å)
        const entries = Object.entries(counts).sort((x,y) => y[1]-x[1]);
        const topScore = entries[0][1];
        const tied = entries.filter(e => e[1] === topScore).map(e => e[0]);
        if (tied.length === 1) return tied[0];
        const priority = ['C','A','B'];
        for (const p of priority) if (tied.includes(p)) return p;
        return entries[0][0];
      }

      function openModal(roleKey, counts){
        const role = ROLE[roleKey];

        modalTitle.textContent = role.title;

        modalBody.innerHTML = `
          <div class="role-block">
            <p style="margin:0 0 10px">
              <b>–¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</b> ${role.title}<br>
              <span style="color:#6b6b6b">–û—Ç–≤–µ—Ç—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏–ª–∏—Å—å —Ç–∞–∫: ${counts.A} / ${counts.B} / ${counts.C}</span>
            </p>
            <ul>
              ${role.bullets.map(b => `<li>${b}</li>`).join('')}
            </ul>
            <p style="margin:10px 0 0"><b>üìå ${role.focus}</b></p>
          </div>

          <div style="margin-top:14px">
            <p style="margin:0"><b>üöÄ –ß—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å</b></p>
            <p style="margin:8px 0 0; color:#6b6b6b">
              üëâ <b>–õ—é–±–æ–π —ç–∫—Å–ø–µ—Ä—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤—Å–µ 3 —Ä–æ–ª–∏.</b><br>
              üëâ –ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ —Ç–µ–±–µ, –∞ –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–∏—Å—Ç–µ–º—ã.<br>
              üëâ –ü—Ä–æ–¥–∞–∂–∏ ‚Äî —ç—Ç–æ –Ω–µ —Ç–∞–ª–∞–Ω—Ç, –∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.
            </p>
          </div>
        `;

        backdrop.classList.add('open');
        closeModalBtn.focus();
      }

      function closeModal(){
        backdrop.classList.remove('open');
      }

      calcBtn.addEventListener('click', () => {
        const counts = tally();
        const roleKey = pickRole(counts);
        openModal(roleKey, counts);
      });

      closeModalBtn.addEventListener('click', closeModal);

      backdrop.addEventListener('click', (e) => {
        if (e.target === backdrop) closeModal();
      });

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && backdrop.classList.contains('open')) closeModal();
      });

      updateProgress();
    })();
  </script>
</body>
</html>
